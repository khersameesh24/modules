// TODO nf-core: Once you have added the required tests, please run the following command to build this file:
// nf-core modules test segger
nextflow_process {

    name "Test Process SEGGER_CREATE_DATASET"
    script "../main.nf"
    process "SEGGER_CREATE_DATASET"

    tag "modules"
    tag "modules_nfcore"
    tag "segger"
    tag "segger/create_dataset"

    test("segger create_dataset tiny") {

        when {
            process {
                """
                input[0] = [[id: "test_segger"], file("/data/sail/projects/tools/modules/testdata/xenium_prime_human_skin_ffpe_subset")]
                input[1] = "xenium"
                """
            }
        }
    then {
        assertAll(
            { assert process.success },
            { assert snapshot(
                process.out.versions,
                process.out.outs).match()
            },
            { assert file(process.out.dataset[0][1]).exists() },
        )
        }
    }
}
